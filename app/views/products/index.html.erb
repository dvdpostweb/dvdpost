<!--   ==============   MAIN CONTENT   ==============   -->
<div id="maincontent">
  <div id="title"><%= products_index_title %></div>
  <%= render :partial => 'products/index/image', :locals => {:actor => @actor} if params[:kind] == :adult && @actor%>
  <%= render :partial => 'layouts/filters', :locals => {:filter => @filter }%>
  <% unless @popular.nil? %>
    <%= render :partial => 'products/index/streaming', :locals => {:products => @popular} %>
  <% end %>
  <div id="titles-wrap">
    <div class="top"></div>
    <%= render :partial => 'products/index/sorting' %>
      <% if @products %>
        <%= render :partial => 'products/index/movie_detail', :collection => @products, :locals => {:jacket_mode => @jacket_mode, :rating_color => @rating_color} %>
        <% if @products.size == 0 %>
          <p>
          <% if params[:view_mode] == 'recommended'%>
            <%= t '.recommendations_empty' %>
          <% else %>
            <%= t '.products_empty' %>
          <% end %>
          </p>
        <% end %>
      <% else %>
        <%= t '.recommendations_unavailable' %>
      <% end %>
    <div class="end"></div>
  </div>
  <%= will_paginate @products, :class => 'products-pagination', :previous_label => '&nbsp;', :next_label => '&nbsp;' if @products && params[:view_mode] != 'popular_streaming' %>
  
</div>
<!--   ==============   END MAIN CONTENT   ==============   -->
<% if params[:kind] == :normal %>
  <%= render :partial => 'products/left_column', :locals => {:filter => @filter} %>
<% else %>
  <%= render :partial => 'products/left_column_adult', :locals => {:filter => @filter} %>
<% end %>